(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{4520:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return s(8660)}])},726:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});var n=s(2322),a=s(2784),r=s(5907),i=s(8804),c=s(561),l=s(6796),o=s(9097),d=s.n(o);function u(e){var t,s,o=e.show,u=e.setShow,m=(0,a.useContext)(l.Z);return(0,n.jsxs)(r.Z,{show:o,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:function(){return u(!1)},children:[(0,n.jsx)(r.Z.Header,{closeButton:!0,children:(0,n.jsx)(r.Z.Title,{id:"contained-modal-title-vcenter",children:"Cart"})}),(0,n.jsxs)(i.Z,{variant:"flush",children:[0==(null===(t=m.items)||void 0===t?void 0:t.length)&&(0,n.jsx)(i.Z.Item,{className:"py-3",children:"Nothing here"}),null===(s=m.items)||void 0===s?void 0:s.map((function(e){return(0,n.jsxs)(i.Z.Item,{className:"py-3 d-flex justify-content-between align-items-center",children:[e.name,(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"badge bg-secondary rounded-pill me-3",children:e.quantity}),(0,n.jsxs)("div",{className:"btn-group me-3",children:[(0,n.jsx)("button",{className:"btn btn-dark",onClick:function(){return m.decreaseItem(e)},children:(0,n.jsx)("i",{className:"bi-dash m-auto text-white"})}),(0,n.jsx)("button",{className:"btn btn-dark",onClick:function(){return m.increaseItem(e)},children:(0,n.jsx)("i",{className:"bi-plus m-auto text-white"})})]}),(0,n.jsx)("button",{className:"btn btn-danger",onClick:function(){return m.removeItem(e)},children:(0,n.jsx)("i",{className:"bi-x-lg m-auto text-white"})})]})]},e.id)}))]}),(0,n.jsxs)(r.Z.Footer,{children:[(0,n.jsx)(c.Z,{className:"btn-secondary",onClick:function(){return m.resetItems()},children:"Reset"}),(0,n.jsx)(d(),{href:"/checkout",children:(0,n.jsx)(c.Z,{className:"ms-auto",disabled:0==m.items.length,children:"Checkout"})})]})]})}},8563:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var n=s(2322),a=s(5320),r=s.n(a);function i(){return(0,n.jsx)("footer",{className:"".concat(r().footer," bg-light"),children:(0,n.jsx)("div",{className:"container",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-lg-6 h-100 text-center text-lg-start my-auto",children:(0,n.jsx)("p",{className:"text-muted small mb-4 mb-lg-0",children:"\xa9 Docemo business solutions. All Rights Reserved."})})})})})}},8037:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var n=s(2322),a=s(2784),r=s(6796),i=s(9097),c=s.n(i),l="/_next/static/media/logo-1.909ae0e2.png";function o(e){var t=e.setShowCart,s=(0,a.useContext)(r.Z);return(0,n.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:(0,n.jsxs)("div",{className:"container justify-content-between",children:[(0,n.jsx)(c(),{href:"/",className:"navbar-brand",children:(0,n.jsx)("div",{style:{cursor:"pointer"},children:(0,n.jsx)("img",{src:l,alt:"Docemo logo",style:{width:"100px"}})})}),(0,n.jsx)("div",{children:(0,n.jsxs)("button",{type:"button",className:"btn btn-primary position-relative",onClick:function(){return t(!0)},children:[(0,n.jsx)("i",{className:"bi-bag m-auto text-white"}),(0,n.jsxs)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",children:[s.items.length,(0,n.jsx)("span",{className:"visually-hidden",children:"unread messages"})]})]})})]})})}},8660:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var n=s(8788),a=s(7842),r=s(865),i=s(6670),c=s(4776),l=s.n(c),o=s(2322),d=s(8037),u=s(8563),m=s(2784),h=s(7137),p=s(726),x=s(6796),f=s(2250),v=s(4198),b=s(9644),j=s.n(b);function N(){var e,t,s,c,b=(0,m.useContext)(x.Z),N=(0,m.useState)([]),y=N[0],g=N[1],k=(0,m.useState)(null),w=k[0],C=k[1],Z=(0,m.useState)(!1),_=Z[0],S=Z[1],q=(0,m.useState)(0),F=q[0],E=q[1],P=(0,m.useState)(f.Z.getAllCountries()),R=P[0],D=(P[1],(0,m.useState)([])),I=D[0],K=D[1],T=(0,m.useState)({firstName:"",lastName:"",email:"",address:"",country:R[0].isoCode,state:"",zip:""}),z=T[0],A=T[1],U=(0,m.useState)({type:"crypto",currency:"BTC"}),B=U[0],L=U[1],O=(0,m.useState)({baseURL:"",stripeKey:"",nowPaymentsKey:""}),V=O[0],H=O[1];(0,m.useEffect)((function(){X()}),[]),(0,m.useEffect)((function(){""!=V.nowPaymentsKey&&function(){Y.apply(this,arguments)}()}),[V]);var X=function(){var e=(0,n.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j().get("/orders/env");case 2:t=e.sent,console.log(t),H(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Y(){return(Y=(0,n.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j().get("https://api.nowpayments.io/v1/full-currencies",{headers:{"Content-Type":"application/json","x-api-key":V.nowPaymentsKey}});case 2:t=e.sent,g(t.data.currencies);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,m.useEffect)((function(){K(v.ZP.getStatesOfCountry(z.country))}),[z.country]),(0,m.useEffect)((function(){0!=I.length&&A((0,i.Z)((0,r.Z)({},z),{state:I[0].isoCode}))}),[I]),(0,m.useEffect)((function(){var e,t;(null===(e=b.items)||void 0===e?void 0:e.length)>0?E(null===(t=b.items)||void 0===t?void 0:t.reduce((function(e,t){return e+t.price*t.quantity}),0)):E(0)}),[b]);var $=function(e,t){A((0,i.Z)((0,r.Z)({},z),(0,a.Z)({},t,e)))},M=function(e,t){L((0,i.Z)((0,r.Z)({},B),(0,a.Z)({},t,e))),"type"==t&&"stripe"==e&&L((0,i.Z)((0,r.Z)({},B),(0,a.Z)({currency:"usd"},t,e)))},G=(0,m.useRef)(null),J=function(){var e=(0,n.Z)(l().mark((function e(t){var s,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!=b.items.length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,j().post("/customers",z);case 5:return s=e.sent.data,e.next=8,j().post("/orders",{customerId:s.id,productsArray:b.items.map((function(e){return{id:e.id,quantity:e.quantity}})),paymentType:B.type,paymentCurrency:B.currency});case 8:n=e.sent.data,C(n.id);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,m.useEffect)((function(){Q()}),[w]);var Q=function(){var e=(0,n.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=2;break}return e.abrupt("return");case 2:if("crypto"!=B.type){e.next=9;break}return e.next=5,j().post("https://api.nowpayments.io/v1/invoice",{price_amount:F,price_currency:"usd",pay_currency:B.currency,ipn_callback_url:"https://api.nowpayments.io",order_id:w,order_description:"windows server support",success_url:"".concat(V.baseURL,"/checkout/success"),cancel_url:"".concat(V.baseURL,"/checkout/")},{headers:{"Content-Type":"application/json","x-api-key":V.nowPaymentsKey}});case 5:t=e.sent,document.location.href=t.data.invoice_url,e.next=10;break;case 9:"stripe"==B.type&&G.current.children[0].click();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,n.Z)(l().mark((function e(t){var s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j().post("/orders/stripe",{token:t,orderId:w});case 2:s=e.sent,console.log(s.data),document.location.href="/checkout/success";case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.Z,{setShowCart:S}),(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:"row pt-5",children:[(0,o.jsxs)("div",{className:"col-md-4 order-md-2 mb-4",children:[(0,o.jsxs)("h4",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,o.jsx)("span",{className:"text-muted",children:"Your cart"}),(0,o.jsx)("span",{className:"badge bg-secondary rounded-pill",children:null===(e=b.items)||void 0===e?void 0:e.length})]}),(0,o.jsxs)("ul",{className:"list-group mb-3",children:[null===(t=b.items)||void 0===t?void 0:t.map((function(e,t){return(0,o.jsxs)("li",{className:"list-group-item d-flex justify-content-between lh-condensed",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("h6",{className:"my-0",children:[e.name," x ",e.quantity]}),(0,o.jsx)("small",{className:"text-muted",children:e.features[0]})]}),(0,o.jsxs)("span",{className:"text-muted",children:["$",e.price*e.quantity]})]},t)})),(0,o.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,o.jsx)("span",{children:"Total (USD)"}),(0,o.jsxs)("strong",{children:["$",F]})]})]}),0==(null===(s=b.items)||void 0===s?void 0:s.length)&&(0,o.jsx)("p",{className:"text-danger",children:"Your cart is empty. Add something to checkout."})]}),(0,o.jsxs)("div",{className:"col-md-8 order-md-1",children:[(0,o.jsx)("h4",{className:"mb-3",children:"Billing address"}),(0,o.jsx)("form",{className:"needs-validation",onSubmit:J,children:(0,o.jsxs)("ul",{className:"list-group mb-3",children:[(0,o.jsxs)("li",{className:"list-group-item p-4",children:[(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,o.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"First name"}),(0,o.jsx)("input",{type:"text",className:"form-control",id:"firstName",required:!0,value:z.firstName,onChange:function(e){return $(e.target.value,"firstName")}}),(0,o.jsx)("div",{className:"invalid-feedback",children:"Valid first name is required."})]}),(0,o.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,o.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Last name"}),(0,o.jsx)("input",{type:"text",className:"form-control",id:"lastName",required:!0,value:z.lastName,onChange:function(e){return $(e.target.value,"lastName")}}),(0,o.jsx)("div",{className:"invalid-feedback",children:"Valid last name is required."})]})]}),(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),(0,o.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"you@example.com",required:!0,value:z.email,onChange:function(e){return $(e.target.value,"email")}}),(0,o.jsx)("div",{className:"invalid-feedback",children:"Please enter a valid email address for shipping updates."})]}),(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("label",{htmlFor:"address",className:"form-label",children:"Address"}),(0,o.jsx)("input",{type:"text",className:"form-control",id:"address",placeholder:"1234 Main St",required:!0,value:z.address,onChange:function(e){return $(e.target.value,"address")}}),(0,o.jsx)("div",{className:"invalid-feedback",children:"Please enter your shipping address."})]}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"col-md-5 mb-3",children:[(0,o.jsx)("label",{htmlFor:"country",className:"form-label",children:"Country"}),(0,o.jsx)("select",{className:"form-select d-block w-100",id:"country",required:!0,value:z.country,onChange:function(e){return $(e.target.value,"country")},children:R.map((function(e,t){return(0,o.jsx)("option",{value:e.isoCode,children:e.name},t)}))}),(0,o.jsx)("div",{className:"invalid-feedback",children:"Please select a valid country."})]}),(0,o.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,o.jsx)("label",{htmlFor:"state",className:"form-label",children:"State"}),(0,o.jsx)("select",{className:"form-select d-block w-100",id:"state",value:z.state,onChange:function(e){return $(e.target.value,"state")},children:I.map((function(e,t){return(0,o.jsx)("option",{value:e.isoCode,children:e.name},t)}))}),(0,o.jsx)("div",{className:"invalid-feedback",children:"Please provide a valid state."})]}),(0,o.jsxs)("div",{className:"col-md-3 mb-3",children:[(0,o.jsx)("label",{htmlFor:"zip",className:"form-label",children:"Zip"}),(0,o.jsx)("input",{type:"text",className:"form-control",id:"zip",placeholder:"",required:!0,value:z.zip,onChange:function(e){return $(e.target.value,"zip")}}),(0,o.jsx)("div",{className:"invalid-feedback",children:"Zip code required."})]})]})]}),(0,o.jsxs)("li",{className:"list-group-item p-4",children:[(0,o.jsx)("h6",{className:"mb-3",children:"Payment method"}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,o.jsxs)("div",{className:"form-check mb-3",children:[(0,o.jsx)("input",{className:"form-check-input",type:"radio",name:"payment-method",id:"flexRadioDefault1",value:"stripe",checked:"stripe"==B.type,onChange:function(e){return M(e.target.value,"type")}}),(0,o.jsx)("label",{className:"form-check-label",htmlFor:"flexRadioDefault1",children:"Stripe"})]}),(0,o.jsx)("div",{className:"d-grid",children:(0,o.jsx)("button",{className:"btn btn-block btn-dark",disabled:!0,children:"Card"})})]}),(0,o.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,o.jsxs)("div",{className:"form-check mb-3",children:[(0,o.jsx)("input",{className:"form-check-input",type:"radio",name:"payment-method",id:"flexRadioDefault1",value:"crypto",checked:"crypto"==B.type,onChange:function(e){return M(e.target.value,"type")}}),(0,o.jsx)("label",{className:"form-check-label",htmlFor:"flexRadioDefault1",children:"Crypto"})]}),(0,o.jsx)("select",{className:"form-select d-block w-100",id:"state",value:B.currency,onChange:function(e){return M(e.target.value,"currency")},children:y.map((function(e,t){return(0,o.jsx)("option",{value:e.code,children:e.name},t)}))}),(0,o.jsx)("div",{className:"invalid-feedback",children:"Valid last name is required."})]})]})]}),(0,o.jsx)("li",{className:"list-group-item p-4",children:(0,o.jsx)("button",{className:"btn btn-primary btn-lg btn-block",type:"submit",disabled:0==(null===(c=b.items)||void 0===c?void 0:c.length),children:"Continue to checkout"})})]})})]})]})}),(0,o.jsx)("div",{ref:G,style:{display:"none",position:"absolute"},children:""!=V.stripeKey&&(0,o.jsx)(h.Z,{currency:B.currency.toUpperCase(),email:z.email,name:"".concat(z.firstName," ").concat(z.lastName),token:W,stripeKey:null===V||void 0===V?void 0:V.stripeKey,amount:100*F})}),(0,o.jsx)(u.Z,{}),(0,o.jsx)(p.Z,{show:_,setShow:S})]})}},5320:function(e){e.exports={footer:"Footer_footer__AxF0B"}}},function(e){e.O(0,[382,229,644,190,774,888,179],(function(){return t=4520,e(e.s=t);var t}));var t=e.O();_N_E=t}]);